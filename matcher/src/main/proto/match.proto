syntax = "proto2";

package match;

option java_package = "com.oneroadtrip.matcher";
option java_multiple_files = true;

enum Status {
  SUCCESS = 0;
  INCORRECT_REQUEST = 1;
  INCORRECT_PASSWORD = 2;
  INCORRECT_USER_NAME = 3;
  UNKNOWN_USER = 4;
  NO_DB_CONNECTION = 5;
  ERROR_IN_SQL = 6;
  SERVER_ERROR = 7;
  NO_TOKEN = 8;
  MULTIPLE_VALID_TOKEN = 9;
}

message SignupRequest {
  optional string username = 1;
  optional string email = 2;
  optional string password = 3;
}

message SignupResponse {
  optional Status status = 1;
  optional string token = 2;
}

message LoginRequest {
  optional string username = 1;
  optional string password = 2;
}

message LoginResponse {
  optional Status status = 1 [ default = SUCCESS ];
  optional string token = 2;
}

message TravelRequest {
  optional string token = 1;
  optional string destination = 2;
  optional int32 startdate = 3;
  optional int32 enddate = 4;
  optional int32 adults = 5;
  optional int32 kids = 6;
  optional int32 seniors = 7;
  repeated string interests = 8;
  optional int32 level = 9;
  optional bool need_air_ticket = 10;
  optional bool need_hotel = 11;
  optional bool need_transportation = 12;
  optional bool need_vip = 13;
}

message ChosenGuide {
  optional string name = 1;
  optional string photo_id = 2;
  optional float score = 3;
  optional string description = 4;
  optional int32 experience = 5;
  optional bool has_car = 6;
  optional int32 max_people = 7;
  repeated string language = 8;
  optional string citizenship = 9;  // 国籍
  optional float price_usd = 10;
  optional float price_cny = 11;
}

message TravelResponse {
  optional Status status = 1 [ default = SUCCESS ];
  repeated ChosenGuide guide = 2;
}
